- tests
- more robust error catching

